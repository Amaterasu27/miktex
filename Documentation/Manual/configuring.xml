<chapter id="configuring">
    
<title>Maintenance</title>

<section id="fndbupdate">

<title>Refreshing the File Name Database</title>

<indexterm>
<primary>file name database</primary>
<secondary>defined</secondary>
</indexterm>

<indexterm>
<primary>file name database</primary>
<secondary>refreshing</secondary>
</indexterm>

<para>To speed up file search, &MiKTeX; makes use
of a list of known file names.  This list is called the
<firstterm>file name database</firstterm> (&FNDB;).</para>

<para>It is necessary that you refresh the file name database whenever
you manually install &TeX;/&LaTeX;-related files (see ).</para>

<para>You update the file name database with the help of
&MiKTeXOptions;.</para>

<para>Click
<menuchoice>
<guimenu>Start</guimenu>
<guisubmenu>Programs</guisubmenu>
<guisubmenu>&progfldr;</guisubmenu>
<guimenuitem>Settings</guimenuitem>
</menuchoice> to open the &MiKTeXOptions; window (see <xref linkend="mo-general"/>).</para>

<figure id="mo-general">
<title>&MiKTeXOptions;: General Settings</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/mo-general"/>
</imageobject>
</mediaobject>
</screenshot>
</figure>

<para>Click <guibutton>Refresh FNDB</guibutton> to refresh the
file name database.</para>

</section>

<section id="papersize">

<title>Setting the Preferred Paper Format</title>

<indexterm>
<primary>paper format</primary>
<secondary>setting</secondary>
</indexterm>

<para>You can set the preferred paper format with the help of
&MiKTeXOptions;.</para>

<para>Click
<menuchoice>
<guimenu>Start</guimenu>
<guisubmenu>Programs</guisubmenu>
<guisubmenu>&progfldr;</guisubmenu>
<guimenuitem>Settings</guimenuitem>
</menuchoice> to open the &MiKTeXOptions; window
(see <xref linkend="mo-general"/>).
Select your preferred paper format from the drop-down list.</para>

</section>

<section id="hyphenation">

<title>Selecting Hyphenation Tables</title>

<indexterm>
<primary>hyphenation tables</primary>
<secondary>selecting</secondary>
</indexterm>

<indexterm>
<primary>languages</primary>
<secondary>selecting</secondary>
</indexterm>

<para>You can control the loading of hyphenation tables with the help of
&MiKTeXOptions;.</para>

<para>Click
<menuchoice>
<guimenu>Start</guimenu>
<guisubmenu>Programs</guisubmenu>
<guisubmenu>&progfldr;</guisubmenu>
<guimenuitem>Settings</guimenuitem>
</menuchoice> to open the &MiKTeXOptions; window
(see <xref linkend="mo-general"/>).</para>

<para>Click on the <guilabel>Languages</guilabel> tab.  You will
presented with the list of available languages and corresponding
hyphenation tables (<xref linkend="mo-languages"/>).  Mark the
languages, whose hyphenation tables shall be loaded by
&TeX;/&LaTeX;.</para>

<figure id="mo-languages">
<title>&MiKTeXOptions;: Languages</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/mo-languages"/>
</imageobject>
</mediaobject>
</screenshot>
</figure>

</section>






<section id="updating">

<title>Installing Updates</title>

<para>You can use the &MiKTeX; update wizard to install
the latest &MiKTeX; updates.
<indexterm>
<primary>MiKTeX update wizard</primary>
<see>update wizard</see>
</indexterm>
<indexterm>
<primary>MiKTeX</primary>
<secondary>updating</secondary>
</indexterm>
<indexterm>
<primary>packages</primary>
<secondary>updating</secondary>
</indexterm>
<indexterm>
<primary>updates</primary>
<secondary>installing</secondary>
</indexterm>
</para>

<indexterm>
<primary>update wizard</primary>
<secondary>running</secondary>
</indexterm>

<para>To start the wizard, click
<menuchoice>
<guimenu>Start</guimenu> <guisubmenu>Programs</guisubmenu>
<guisubmenu>&progfldr;</guisubmenu> <guimenuitem>Update</guimenuitem>
</menuchoice>.  The wizard asks you to choose an update source:</para>

<informalfigure>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/updatewiz-download-type"/>
</imageobject>
</mediaobject>
</screenshot>
</informalfigure>

<para>Choose <guilabel></guilabel> to install updates
from a remote package repository.
 Choose <guilabel>Local folder</guilabel>,
if you are mirroring a remote package repository on your computer.
Chosse <guilabel>MiKTeX CD</guilabel>, if you have a new
<indexterm>
<primary>CD-R</primary> <secondary>installing updates</secondary>
</indexterm>
edition of the &MiKTeX; CD.
Click <guibutton>Next &gt;</guibutton> to continue.</para>

<para>If you have chosen to install packages from a remote package
repository, &MiKTeXUpdateWizard; lists the available package
repositories. Choose the nearest repository:</para>

<informalfigure>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/updatewiz-remote-repository"/>
</imageobject>
</mediaobject>
</screenshot>
</informalfigure>

<para>Click <guibutton>Next &gt;</guibutton> to continue.</para>

<para>A list of updateable packages is displayed. Choose the packages
you wish to update:</para>

<informalfigure>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/updatewiz-packagelist"/>
</imageobject>
</mediaobject>
</screenshot>
</informalfigure>

<para>Click <guibutton>Next &gt;</guibutton> to start the update
process.</para>

<para>&MiKTeXUpdateWizard; now updates the selected packages:</para>

<informalfigure>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/updatewiz-progress"/>
</imageobject>
</mediaobject>
</screenshot>
</informalfigure>
<para>When the update operation is complete, click
<guibutton>Next &gt;</guibutton> and then <guibutton>Finish</guibutton>.</para>

</section>

<section id="autoinstall">

<title>Automatic Package Installation</title>

<para>&MiKTeX; has the ability to automatically install
<indexterm>
<primary>packages</primary>
<secondary>automatic installation of</secondary>
</indexterm>
missing packages.</para>

<para>&MiKTeX; asks your permission before installing a package (see
<xref linkend="autoinstalldlg"/>.</para>

<figure id="autoinstalldlg">
<title>Automatic Package Installation</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/autoinstall"/>
</imageobject>
</mediaobject>
</screenshot>
</figure>

<para>Click <guibutton>OK</guibutton> to start the installation of the
package. Click <guibutton>Cancel</guibutton>, to cancel the
installation. If you do not want to see this dialog in the future,
clear the mark from the check box <guilabel>Always show this
dialog before installing packages</guilabel>. Your decision will be
remembered.</para>

</section>

<section id="localadditions">

<title>Integrating Local Additions</title>

<indexterm>
<primary>local additions</primary>
<secondary>intergrating</secondary>
</indexterm>

<para>If you have files that you want to integrate into the &MiKTeX;
setup, you have to register the root of the directory tree which
contains the files. The directory tree must conform to the &TDS;
standard, i.e., you must imitate the directory tree in the &MiKTeX;
installation directory (usually
<filename>&installdir;</filename>).</para>

<section>

<title>&TeX; Directory Structure (&TDS;)</title>

<para>Here is a brief summary of the &TDS; standard:</para>

<para><filename>*.afm</filename> go in <filename><replaceable>root</replaceable>\fonts\afm\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>
<para><filename>*.dvi</filename>, <filename>*.ps</filename> or <filename>*.pdf</filename> go in <filename><replaceable>root</replaceable>\doc\latex<replaceable>package</replaceable></filename></para>
<para><filename>*.enc</filename> go in <filename><replaceable>root</replaceable>\fonts\enc\<replaceable>syntax</replaceable>\<replaceable>bundle</replaceable></filename></para>
<para><filename>*.map</filename> go in <filename><replaceable>root</replaceable>\fonts\map\<replaceable>syntax</replaceable>\<replaceable>bundle</replaceable></filename></para>
<para><filename>*.mf</filename> go in <filename><replaceable>root</replaceable>\fonts\source\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>
<para><filename>*.pfb</filename> go in <filename><replaceable>root</replaceable>\fonts\type1\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>
<para><filename>*.sty</filename>, <filename>*.cls</filename> or <filename>*.fd</filename>) go in <filename><replaceable>root</replaceable>\tex\latex\<replaceable>package</replaceable></filename></para>
<para><filename>*.tfm</filename> go in <filename><replaceable>root</replaceable>\fonts\tfm\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>
<para><filename>*.ttf</filename> go in <filename><replaceable>root</replaceable>\fonts\truetype\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>
<para><filename>*.vf</filename> go in <filename><replaceable>root</replaceable>\fonts\vf\<replaceable>supplier</replaceable>\<replaceable>font</replaceable></filename></para>

<para>Please run <userinput>mthelp tds</userinput> to learn more about the &TDS;.</para>

</section>

<section>

<title>Walkthrough: Registering a Local Directory Tree</title>

<para>In this walkthrough, we assume that your local additions are
located in the directory tree rooted at <filename>C:\Local TeX
Files</filename>. This tree might look as follows:</para>

<figure id="localtexmf">
<title>Sample &TeX; Directory Structure</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/localtexmf"/>
</imageobject>
</mediaobject>
</screenshot>
</figure>

<para>You use &MiKTeXOptions; to register <filename>C:\Local TeX Files</filename>.
Click
<menuchoice>
<guimenu>Start</guimenu>
<guisubmenu>Programs</guisubmenu>
<guisubmenu>&progfldr;</guisubmenu>
<guimenuitem>Settings</guimenuitem>
</menuchoice> 
to open the &MiKTeXOptions; window
(see <xref linkend="mo-general"/>).</para>

<para>Click on the <guilabel>Roots</guilabel> tab.
The <guilabel>Roots</guilabel> page
(see <xref linkend="mo-roots"/>)
shows the list of currently registered root directories.</para>

<figure id="mo-roots">
<title>&MiKTeXOptions;: Roots</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="images/mo-roots"/>
</imageobject>
</mediaobject>
</screenshot>
</figure>

<para>Click <guibutton>Add</guibutton>.  In the following dialog box
(<guilabel>Browse for Folder</guilabel>), browse to <filename>C:\Local
TeX Files</filename> and click <guibutton>OK</guibutton>.</para>

</section>

</section>

</chapter>

<!--
Local Variables:
mode:xml
sgml-parent-document: ("../miktex.xml" "book")
sgml-indent-step: 0
sgml-set-face: t
End:
-->
