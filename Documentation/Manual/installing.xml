<chapter id="installing">

<title>Installing &MiKTeX;</title>

<section id="instinstr">

<title>Installation Instructions</title>
&installins;
</section>

<section id="advins">

<title>Advanced Installation Options</title>

<section>

<title>Driving &MiKTeXSetupWizard;</title>

<para>&MiKTeXSetupWizard; reads options from the file
<indexterm>
<primary>setupwiz.opt</primary>
</indexterm>
<indexterm>
<primary>setup wizard</primary>
<secondary>setupwiz.opt</secondary>
</indexterm>
<filename>setupwiz.opt</filename>, if it exists.</para>

<para>It is also possible to specify options on the command-line,
though this is a bit intricated.  You have to stick to the following
<indexterm>
<primary>setup wizard</primary>
<secondary>command-line options</secondary>
</indexterm>
syntax:</para>

<cmdsynopsis>
<command>&setupexe;</command>
<arg choice="plain"><option>/C:"PreSetup setupwiz --setup-path=""#e"" <replaceable>options</replaceable>"</option></arg>
</cmdsynopsis>

<para>Note that the placement of quotation marks is important, and
that <option>#e</option> is surrounded with two pairs of
double quotation marks.</para>
      
<para>For example, this command starts the wizard
<indexterm>
<primary>unattended setup</primary>
</indexterm>
<indexterm>
<primary>setup wizard</primary>
<secondary>unattended mode</secondary>
</indexterm>
in unattended mode:</para>
      
<informalexample>
<screen><prompt>&prompt;</prompt><userinput>&setupexe; /C:"PreSetup setupwiz --setup-path=""#e"" --unattended"</userinput>
<prompt>&prompt;</prompt></screen>
</informalexample>

<para>&MiKTeXSetupWizard; obeys the following command-line options:</para>
      
<variablelist>

<varlistentry>
<term><option>--additional-roots <replaceable>dirs</replaceable></option></term>
<listitem><para>Register additional &TEXMF; root directories.
<replaceable>dirs</replaceable> is a
semicolon-separated list of fully qualified path names.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--allow-unattended-reboot</option></term>
<listitem><para>Restart the system, if necessary.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--download-only</option></term>
<listitem><para>Download all required packages, but do not otherwise
install &MiKTeX;.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--dry-run</option></term>
<listitem><para>Simulate.  No files shall be
downloaded and/or installed.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--install-from-local-repository</option></term>
<listitem><para>Install &MiKTeX; from a local
package repository.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--install-root <replaceable>dir</replaceable></option></term>
<listitem><para>Install &MiKTeX; in the specified directory.</para></listitem>
</varlistentry>

<varlistentry>
<term><option>--data-root <replaceable>dir</replaceable></option></term>
<listitem><para>Install data files in the specified directory.
This option requires administrative privileges.</para></listitem>
</varlistentry>

<varlistentry>
<term><option>--local-package-repository <replaceable>dir</replaceable></option></term>
<listitem><para>Download into (Install from) the specified directory.</para></listitem>
</varlistentry>

<varlistentry>
<term><option>--no-roots</option></term>
<listitem><para>Do not integrate additional &TEXMF; root directories into
the &MiKTeX; setup.</para></listitem>
</varlistentry>

<varlistentry>
<term><option>--private</option></term>
<listitem><para>Install &MiKTeX; for the current user only.  This
is the default.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--program-folder <replaceable>name</replaceable></option></term>
<listitem><para>Add shortcuts to the specified folder.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--remote-package-repository <replaceable>url</replaceable></option></term>
<listitem><para>Download from the specified the <acronym>URL</acronym>.</para></listitem>
</varlistentry>

<varlistentry>
<term><option>--shared</option></term>
<listitem><para>Install &MiKTeX; for everyone using this computer.  This option
requires administrative privileges.</para></listitem>
</varlistentry>
	
<varlistentry>
<term><option>--unattended</option></term>
<listitem><para>Run in unattended mode.
<indexterm>
<primary>unattended setup</primary>
</indexterm></para></listitem>
</varlistentry>
	
</variablelist>
      
<para>This is an example of a <filename>setupwiz.opt</filename>
file:</para>
	
<informalexample>
<screen>--install-from-local-repository
--local-package-repository \\mirrors\tm\packages
--install-root C:\texmf
--data-root C:\localtexmf
--unattended</screen>
</informalexample>

<para>In this example, &MiKTeX; is installed
from the network directory <filename>\\mirrors\tm\packages\</filename>.
The wizard is run in unattended mode.</para>

</section>
    
<section>

<title>Shared Network Installation</title>

<indexterm>
<primary>network installation</primary>
</indexterm>

<indexterm>
<primary>shared network installation</primary>
</indexterm>

<indexterm>
<primary>MiKTeX</primary>
<secondary>network installation</secondary>
</indexterm>

<para>Setting up a shared network installation requires
<indexterm>
<primary>MiKTeX CD-R</primary>
</indexterm>
a copy of the &MiKTeX; &CDR; (see <xref linkend="miktexcdr"/>).</para>

<para>Create a shared directory,
say <filename>&networkfolder;\</filename>, which
contains the contents of the &MiKTeX; &CDR;.</para>

<para>The &MiKTeX; &CDR; comes with a special version of the
setup wizard, which offers users the option
<guilabel>Prepare to run MiKTeX from the CD</guilabel>.</para>

</section>
    
</section>

<section id="startmenu">

<title>Items in the Start Menu</title>

<para>&MiKTeXSetupWizard; installs the
following menu items in the <application>Windows</application>
<indexterm>
<primary>start menu</primary>
</indexterm>
start menu:</para>

<variablelist>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>LaTeX2e Reference</guimenuitem>
</menuchoice></term>
<listitem><para>A <application>LaTeX2e</application> reference manual.
<indexterm>
<primary>LaTeX2e reference</primary>
</indexterm></para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>MiKTeX FAQ</guimenuitem>
</menuchoice>
<indexterm>
<primary>FAQ (frequently asked questions)</primary>
</indexterm></term>
<listitem><para>Answers to frequently asked questions.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>MiKTeX Manual</guimenuitem>
</menuchoice></term>
<listitem><para>The &MiKTeX; manual.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>Help</guisubmenu>
<guimenuitem>MiKTeX Tips</guimenuitem>
</menuchoice></term>
<listitem><para>Tips for &MiKTeX; users.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>Known Issues</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the latest release notes.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>MiKTeX Project Page</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the project page.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guisubmenu>MiKTeX on the Web</guisubmenu>
<guimenuitem>Registration</guimenuitem>
</menuchoice></term>
<listitem><para>An Internet shortcut to the registration form.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>DVI Viewer</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the <acronym>DVI</acronym>
file viewer.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>MiKTeX Options</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the configuration utility.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>MiKTeX Package Manager</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the package manager.</para></listitem>
</varlistentry>

<varlistentry>
<term><menuchoice moreinfo="none">
<guimenu>&progfldr;</guimenu>
<guimenuitem>MiKTeX Update Wizard</guimenuitem>
</menuchoice></term>
<listitem><para>A shortcut to the update wizard.</para></listitem>
</varlistentry>

</variablelist>

</section>

<section id="tds">

<title>The &TEXMF; Directory Hierarchy</title>

<para>A <firstterm>&TEXMF; directory</firstterm> is the root of a
&TDS;<footnote><para>&TDS;: <application>TeX</application>
<indexterm>
<primary>TEXMF directory</primary>
<secondary>defined</secondary>
</indexterm>
directory structure</para></footnote>-compliant directory structure,
as described in <citetitle>A Directory Structure for TeX Files</citetitle>
(run <userinput>texdoc tds</userinput> to view this document).</para>

<para>A standard &MiKTeX; system is composed of two &TEXMF;
directories:</para>

<itemizedlist>
<listitem><para>The <firstterm>installation directory</firstterm>
contains the installed files of the &MiKTeX; distribution.
<indexterm>
<primary>installation directory</primary>
<secondary>defined</secondary>
</indexterm></para></listitem>
<listitem>
<para>
The <firstterm>local &TEXMF; directory</firstterm>
contains files that were created during the use of the &MiKTeX;
programs.
<indexterm>
<primary>local TEXMF directory</primary>
<secondary>defined</secondary>
</indexterm></para></listitem>
</itemizedlist>

<para>You can declare additional &TEXMF; directories, if the need
arises. For example, you can incorporate the &TEXMF; directory
of another &TeX; system (such as &TeXLive;).
Or you can create a personal &TEXMF; directory (say,
<filename>C:\MyTeXMF</filename>) which serves as a
repository for your own <application>TeX</application> related files.
See <xref linkend="rootmanager"/>, for more information.
<indexterm>
<primary>TEXMF directories</primary>
<secondary>using additional</secondary>
</indexterm></para>

<section id="installdir">

<title>The Installation Directory</title>

<caution><para>The contents of the installation directory
must be regarded read-only, i.e., no files should be added,
removed or changed here.</para></caution>

<para>The installation directory is the root of a
&TDS;-compliant directory hierarchy.
<indexterm>
<primary>
&TDS; (<application>TeX</application> directory structure)
</primary>
</indexterm>
It contains the files installed by the &MiKTeXSetupWizard;.</para>

<para>If you have installed &MiKTeX; on the system drive, then
the path to the installation directory is
<filename>&installdir;</filename>, unless
you have specified another path. You can use the &MiKTeXOptions;
application to find out the path to the installation directory.</para>

</section>

<section id="localdir">

<title>The Local &TEXMF; Directory</title>

<para>The local &TEXMF; directory
is the root of a &TDS;-compliant directory hierarchy.
<indexterm>
<primary>
&TDS; (<application>TeX</application> directory structure)
</primary>
</indexterm>
It contains
files that are created during use of the &MiKTeX; programs. It can also
contain your personal additions, such as your own style files.</para>

<para>If you have installed &MiKTeX; on the system drive, then
the path to the local &TEXMF; directory is
<filename>&localdir;</filename>, unless
you have specified another path.</para>

<para>If you are running the &MiKTeX; programs from the &MiKTeX; CD,
then the path to the local &TEXMF; directory is
<filename>&localdircd;</filename>.</para>

<para> You can use the &MiKTeXOptions;
application to find out the path to the local &TEXMF; directory.</para>

</section>

</section>

<section id="uninstalling">

<title>Removing &MiKTeX;</title>

<para>&MiKTeX; can be removed via the Windows control panel:
<indexterm>
<primary>uninstaller</primary>
</indexterm>
<indexterm>
<primary>MiKTeX</primary>
<secondary>uninstalling</secondary>
</indexterm>
<indexterm>
<primary>Remove MiKTeX Wizard</primary>
</indexterm></para>

<procedure>

<step><para>Open <application>Control Panel</application> (usually via
<menuchoice><guimenu>Start</guimenu><guisubmenu>Settings</guisubmenu><guimenuitem>Control Panel</guimenuitem></menuchoice>).</para></step>

<step><para>Click on the <guilabel>Software</guilabel> (resp.
<guilabel>Add/Remve Programs</guilabel>) icon.</para></step>

<step><para>Select <guimenuitem>&progfldr;</guimenuitem>.</para></step>

</procedure>

</section>

</chapter>

<!--
Local Variables:
mode:xml
sgml-parent-document: ("miktex.xml" "book")
sgml-indent-step: 0
sgml-set-face: t
End:
-->
